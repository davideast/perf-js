!function(e,n){"use strict";function t(e){return Object.freeze({name:e.name,event:e.event})}function r(e){return Object.keys(e).map(function(n){return e[n]})}function o(e,n){return e.filter(function(e){return n.indexOf(e)<0})}function i(e,n){var i={},u={},f=0,c=function(){var e=f+1;return e},s=function(e){var n=i[e.initiatorType],t=i.entry;n&&n.event(e),t&&t.event(e)},a=function(e){if(e instanceof PerformanceResourceTiming==!1)throw new Error("perf.push(): arg bust be a PerformanceResourceTiming object");e.userAgent=n,s(e),u[c()]=e},p=function(e,n){i[e]=t({name:e,event:n}),Object.keys(u).forEach(function(e){var n=u[e];a(n)})},v=function(e){var n=r(u),t=o(e,n);t.forEach(function(e){a(e)})};!function(){var n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){var t=this.onload;this.onload=function(){t&&t(),setTimeout(function(){v(e.getEntries())})},n.call(this)}}();var h=function(){e.getEntries().forEach(a)};return h(),Object.freeze({on:p,push:a,userAgent:n})}if(!n)throw new Error("perf: Your browser does not support the Navigation Timing API.");if(!n.getEntries)throw new Error("perf: Your browser does not support the Resource Timing API.");e.perf=i}(window,window.performance);